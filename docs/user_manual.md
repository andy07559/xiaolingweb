# Web内容提取工具说明书

## 1. 功能概述

这是一个强大的网页内容提取工具，可以智能识别并提取网页中的核心内容，支持多种网页类型和输出格式。

### 1.1 主要特点

- 智能识别网页类型（文章、论坛、微信等）
- 自动提取核心内容，去除广告等干扰元素
- 支持多种输出格式（HTML、Markdown、纯文本）
- 自动编码检测和处理
- 集成jina.ai作为备选提取方案
- 结果缓存功能，提高重复提取效率

## 2. 技术架构

### 2.1 前端技术栈

- Next.js框架
- React组件
- TypeScript
- Tailwind CSS样式
- Lucide图标库

### 2.2 后端技术栈

- FastAPI框架
- Python异步处理
- BeautifulSoup解析
- Markdownify转换
- Jina.ai集成

## 3. 功能模块

### 3.1 网页类型识别

支持以下网页类型的自动识别：
- 文章类型：一般的文章页面
- 论坛类型：各类论坛帖子
- 微信类型：微信公众号文章
- AI提取：使用jina.ai提取的内容

### 3.2 内容提取

1. URL输入：
   - 支持任意网页URL输入
   - 自动编码检测和处理
   - URL合法性验证

2. 格式选择：
   - HTML：保留原始HTML格式
   - Markdown：转换为标准Markdown格式
   - 纯文本：去除所有格式标记

3. 提取功能：
   - 智能识别主要内容
   - 去除广告和导航等干扰元素
   - 保留图片和链接
   - 自动处理编码问题

### 3.3 结果处理

1. 缓存机制：
   - 按URL和输出格式缓存结果
   - 提高重复提取效率
   - 支持格式间快速切换

2. 复制功能：
   - 一键复制提取内容
   - 复制状态提示
   - 支持大文本复制

## 4. 界面说明

### 4.1 主要界面元素

1. 导航栏：
   - Logo和标题
   - 功能导航链接
   - GitHub链接

2. 功能区：
   - URL输入框
   - 格式选择下拉框
   - 提取按钮
   - 加载状态指示

3. 结果展示：
   - 内容类型标识
   - 提取结果显示
   - 复制按钮
   - 错误提示

### 4.2 交互设计

1. 输入交互：
   - URL实时验证
   - 格式切换实时更新
   - 提取按钮状态反馈

2. 结果交互：
   - 滚动查看长内容
   - 复制操作反馈
   - 错误信息展示

## 5. API说明

### 5.1 提取接口

```http
GET /api/extract
```

参数：
- `url`: 目标网页URL（必需）
- `output_format`: 输出格式（可选，默认text）
  - `text`: 纯文本
  - `markdown`: Markdown格式
  - `html`: HTML格式

返回格式：
```json
{
    "url": "原始URL",
    "content": "提取的内容",
    "format": "输出格式",
    "type": "网页类型",
    "success": true
}
```

## 6. 错误处理

1. 常见错误：
   - URL无效或无法访问
   - 网页编码无法识别
   - 内容提取失败
   - 格式转换失败

2. 错误恢复：
   - 自动重试机制
   - 备选提取方案
   - 友好的错误提示

## 7. 性能优化

1. 缓存策略：
   - URL级别缓存
   - 格式级别缓存
   - 内存管理

2. 响应优化：
   - 异步处理
   - 状态即时更新
   - 平滑的加载过渡

## 8. 未来展望

计划添加的功能：
1. 批量URL处理
2. 更多输出格式支持
3. 自定义提取规则
4. 内容分类和标签
5. 导出和分享功能
6. 更多网页类型支持 